<apex:page >
	<apex:stylesheet value="{!URLFOR($Resource.JQueryUI ,'css/cupertino/jquery-ui-1.8.12.custom.css')}" />
	<apex:includeScript value="{!URLFOR($Resource.JQueryUI ,'js/jquery-1.5.1.min.js')}" />
	<apex:includeScript value="{!URLFOR($Resource.JQueryUI ,'js/jquery-ui-1.8.12.custom.min.js')}" />
	<script type="text/javascript">
		j$=jQuery.noConflict();
		j$(document).ready(function(){	
			getCrunchbaseJSONResponse()
		});
		
		function getCrunchbaseJSONResponse(){
			alert("Fetching JSON Data ....");
			j$.getJSON(
				"http://api.crunchbase.com/v/1/search.js?query=google&page=1&callback=?",
				function(data){
				   j$.each(data.results, function(i,item){
				   	j$("#response").append("<p>Name: " + item.name + "</p>" +
				   						 "<p>Permalink: " + item.permalink + "</p>" + 
				   						 "<p>Crunchbase URL: " + item.crunchbase_url + "</p>" +
				   						 "<p>Namespace: " + item.namespace + "</p>" +  
				   						 "<p>Overview: " + item.overview + "</p>");
				   });
				   
				});
		}
		
		function getImagePath(imgPath){
			return imgPath.substring(imgPath.lastIndexOf('\"') + 1, imgPath.length - 1);
		}
		
	</script>
	
	<apex:form id="frm">
	<apex:pageBlock title="JSON Crunchbase Sample">
		<p>Please refresh the page to view the JSON response from Crunchbase.</p>
	</apex:pageBlock>
	</apex:form>
	
	<div id="response"></div>
	
</apex:page>