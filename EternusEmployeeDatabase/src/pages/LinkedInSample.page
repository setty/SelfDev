<apex:page >
 
 <script type="text/javascript" src="http://platform.linkedin.com/in.js">
   api_key:2Gc6zHjPfSnlAE195diURn3Bqd0hhzH5LiLPMsoDcOEX8wVJQPxf9I1wVB2FJTt-
   onLoad: onLinkedInLoad
   authorize: false
 </script>
 
 <script type="text/javascript">
 
 function onLinkedInLoad(){
 	IN.Event.on(IN, "auth", onLinkedInAuth)
 }
 
 function onLinkedInAuth(){
 	var div = document.getElementById("sendMessageForm");
    div.innerHTML = '<h2>Send a Message To Yourself</h2>';
    div.innerHTML += '<form action="javascript:sendMessage();">' +
                  '<input id="message" size="30" value="Sample message from Javascript" type="text">' +
                  '<input type="submit" value="Send Message!" /></form>';
 }
 
 function sendMessage(){
 	var message = document.getElementById('message').value;
 	alert("LinkedIn Message: " + message); 
 	
     var BODY = {
        "recipients": {
           "values": [{
             "person": {
                "_path": "/people/~",
             }
           }]
         },
       "subject": "Message from Salesforce using Javascript",
       "body": message
     }
     
     IN.API.Raw("/people/~/mailbox").method("POST").body(JSON.stringify(BODY)).result(function(){ alert("Message posted successfully to LinkedIn.") })
 		   .error(function error(e){alert("Error: " + e)});
 }
 
 function displaySentMessage(){
 	var div = document.getElementById("sendMessageResult");
    div.innerHTML += "Message posted successfully on LinkedIn.";
 }
 
 </script>
 
 <script type="in/Login"></script>
 <div id="sendMessageForm"></div>
 <div id="sendMessageResult"></div>
 
</apex:page>